(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8927:function(e,t,n){Promise.resolve().then(n.bind(n,1030))},1030:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var r=n(230),i=n(7437),a=n(802);function _templateObject(){let e=(0,r._)(["\n    padding: 24px 36px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    width: calc(50% - 72px);\n    border-radius: 12px;\n    background-color: white;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n    padding: 0 12px;\n    font-size: 24px;\n    width: calc(100% - 24px);\n    margin: 0;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,r._)(["\n    padding: 0 12px;\n    font-size: 15px;\n    width: calc(100% - 24px);\n"]);return _templateObject2=function(){return e},e}let Explain=()=>(0,i.jsxs)(c,{children:[(0,i.jsx)(l,{children:"モデルの強さ"}),(0,i.jsxs)(u,{children:["multi2_12: 活性化関数をtanhとした最新モデル",(0,i.jsx)("br",{}),"multi1_12: 活性化関数をそのまま足し合わせたモデル",(0,i.jsx)("br",{}),"1hour4: 1時間の学習で作成したモデル",(0,i.jsx)("br",{}),"first2_l: 初期に作成したモデル",(0,i.jsx)("br",{}),"softmax1_29: softmax法の温度を低下させたテストモデル",(0,i.jsx)("br",{})]}),(0,i.jsx)(l,{children:"逆温度"}),(0,i.jsxs)(u,{children:["AIが選択する手のランダム性を表す",(0,i.jsx)("br",{}),"大きいほどランダム性が低くなり、強い手を打つようになる",(0,i.jsx)("br",{}),"逆温度を最大にした際にはランダム性を完全に排除している",(0,i.jsx)("br",{})]})]}),c=a.ZP.div(_templateObject()),l=a.ZP.h3(_templateObject1()),u=a.ZP.p(_templateObject2());var s=n(8771),o=n(2265);let useSystem=()=>{let{game:e,stateListener:t}=(0,s.O)(),[n,r]=(0,o.useState)(e.getSystemViewModel(!0));return(0,o.useEffect)(()=>{let listener=e=>{r(e)};return t.onSystemViewModel(listener),()=>{t.removeSystemViewModelListener(listener)}},[t]),{system:n}};var p=n(245);let useSquare=e=>{let{squareIndex:t}=e,{game:n,stateListener:r,gameListener:i}=(0,s.O)(),[a,c]=(0,o.useState)(n.getSquareViewModel(t));(0,o.useEffect)(()=>{let listener=e=>{c(e)};return r.onSquareViewModel(t,listener),()=>{r.removeSquareViewModelListener(t,listener)}},[t,r]);let l=(0,o.useCallback)(()=>{i.emitClickEvent({type:"BOARD",squareIndex:t})},[t,i]);return{clickBoard:l,square:a}};var d=n(2710);function Square_templateObject(){let e=(0,r._)(["\n    width: 100px;\n    height: 100px;\n    border: 1px solid black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 40px;\n    position: relative;\n    cursor: pointer;\n    ",";\n    ",";\n    ",";\n"]);return Square_templateObject=function(){return e},e}function Square_templateObject1(){let e=(0,r._)(["\n    position: absolute;\n    ",";\n    ",";\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    ",";\n"]);return Square_templateObject1=function(){return e},e}let Square=e=>{let{squareIndex:t}=e,{square:n,clickBoard:r}=useSquare({squareIndex:t}),{pieceString:a,turn:c}=pieceStringParser(n.piece);return(0,i.jsxs)(m,{$clickable:n.state,$player:(0,d.y3)(n.piece)?"ME":"OPPONENT",$turn:c,onClick:r,children:[a,pieceDotChanger(n.piece).map((e,t)=>(0,i.jsx)(f,{$x:e[0],$y:e[1],$player:(0,d.y3)(n.piece)?"ME":"OPPONENT"},t+"_"+n.piece+"_dot_"+e[0]+"_"+e[1]))]})},pieceStringParser=e=>{switch(e){case p.E_:return{pieceString:"",turn:!1};case p.xw:return{pieceString:"ラ",turn:!1};case p.OS:return{pieceString:"ゾ",turn:!1};case p.Vg:return{pieceString:"キ",turn:!1};case p.ZI:return{pieceString:"ヒ",turn:!1};case p.Pn:return{pieceString:"ニ",turn:!1};case p.D_:return{pieceString:"ラ",turn:!0};case p.zq:return{pieceString:"ゾ",turn:!0};case p.Dx:return{pieceString:"キ",turn:!0};case p.Xs:return{pieceString:"ヒ",turn:!0};case p.mh:return{pieceString:"ニ",turn:!0}}},pieceDotChanger=e=>{switch(e){case p.E_:return[];case p.xw:case p.D_:return[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]];case p.OS:case p.zq:return[[-1,-1],[1,-1],[-1,1],[1,1]];case p.Vg:case p.Dx:return[[0,-1],[-1,0],[1,0],[0,1]];case p.ZI:return[[0,-1]];case p.Xs:return[[0,1]];case p.Pn:return[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[0,1]];case p.mh:return[[0,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]]}},m=a.ZP.div(Square_templateObject(),e=>"clickable"===e.$clickable?"background-color: pink":"selecting"===e.$clickable?"background-color: palegreen":"",e=>"ME"===e.$player?"color: black":"color: red",e=>e.$turn?"transform: rotate(180deg)":""),f=a.ZP.div(Square_templateObject1(),e=>{let t="OPPONENT"===e.$player?-1:1;switch(e.$y*t){case -1:return"top: 5px";case 0:return"";case 1:return"bottom: 5px"}},e=>{switch(e.$x){case -1:return"left: 5px";case 0:return"";case 1:return"right: 5px"}},e=>"ME"===e.$player?"background-color: black":"background-color: red");function Board_templateObject(){let e=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n"]);return Board_templateObject=function(){return e},e}function Board_templateObject1(){let e=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n"]);return Board_templateObject1=function(){return e},e}let Board=()=>(0,i.jsx)(x,{children:[0,1,2,3].map(e=>(0,i.jsx)(g,{children:[0,1,2].map(t=>(0,i.jsx)(Square,{squareIndex:3*e+t},"square_"+e+"_"+t))},"row_"+e))}),x=a.ZP.div(Board_templateObject()),g=a.ZP.div(Board_templateObject1()),useCaptured=e=>{let{capturedIndex:t}=e,{game:n,stateListener:r,gameListener:i}=(0,s.O)(),[a,c]=(0,o.useState)(n.getCapturedViewModel(t));(0,o.useEffect)(()=>{let listener=e=>{c(e)};return r.onCapturedViewModel(t,listener),()=>{r.removeCapturedViewModelListener(t,listener)}},[t,r]);let l=(0,o.useCallback)(()=>{i.emitClickEvent({type:"CAPTURED",capturedIndex:t})},[t,i]);return{captured:a,clickCaptured:l}};function Captured_templateObject(){let e=(0,r._)(["\n    position: relative;\n"]);return Captured_templateObject=function(){return e},e}function Captured_templateObject1(){let e=(0,r._)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 36px;\n    width: 60px;\n    height: 60px;\n    cursor: pointer;\n    ","\n"]);return Captured_templateObject1=function(){return e},e}function Captured_templateObject2(){let e=(0,r._)([""]);return Captured_templateObject2=function(){return e},e}function _templateObject3(){let e=(0,r._)(["\n    position: absolute;\n    top: 2px;\n    right: 2px;\n"]);return _templateObject3=function(){return e},e}let Captured=e=>{let{capturedIndex:t}=e,{captured:n,clickCaptured:r}=useCaptured({capturedIndex:t});return 0===n.amount?(0,i.jsx)(b,{}):(0,i.jsxs)(j,{onClick:r,children:[(0,i.jsx)(_,{$selecting:"selecting"===n.state,children:capturedStringParse(t)}),(0,i.jsx)(h,{children:n.amount})]})},capturedStringParse=e=>{switch(e){case p.bD:return"ゾ";case p.IH:return"キ";case p.Ah:return"ヒ";case p.Rg:return"ゾ";case p.rD:return"キ";case p.y8:return"ヒ"}},j=a.ZP.div(Captured_templateObject()),_=a.ZP.div(Captured_templateObject1(),e=>e.$selecting?"background-color: palegreen":""),b=a.ZP.div(Captured_templateObject2()),h=a.ZP.div(_templateObject3());function MyCaptured_templateObject(){let e=(0,r._)(["\n    margin: 24px 36px;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    height: 60px;\n    width: calc(100% - 72px);\n"]);return MyCaptured_templateObject=function(){return e},e}let MyCaptured=()=>(0,i.jsx)(y,{children:[0,1,2].map(e=>(0,i.jsx)(Captured,{capturedIndex:e},"captured_"+e))}),y=a.ZP.div(MyCaptured_templateObject());function OpCaptured_templateObject(){let e=(0,r._)(["\n    margin: 24px 36px;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    height: 60px;\n    width: calc(100% - 72px);\n"]);return OpCaptured_templateObject=function(){return e},e}let OpCaptured=()=>(0,i.jsx)(O,{children:[3,4,5].map(e=>(0,i.jsx)(Captured,{capturedIndex:e},"captured_"+e))}),O=a.ZP.div(OpCaptured_templateObject());function PlayArea_templateObject(){let e=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 450px;\n    height: 630px;\n    border: 1px solid #cccccc;\n    border-radius: 12px;\n    ","\n"]);return PlayArea_templateObject=function(){return e},e}let PlayArea=()=>{let{system:e}=useSystem();return(0,i.jsxs)(P,{$turn:e.turnPlayer,$isFinished:e.finishStatus.isFinished,children:[(0,i.jsx)(OpCaptured,{}),(0,i.jsx)(Board,{}),(0,i.jsx)(MyCaptured,{})]})},P=a.ZP.div(PlayArea_templateObject(),e=>e.$isFinished?"":"background: linear-gradient("+("ME"===e.$turn?"to bottom":"to top")+", white 90%, #D8FBD8 100%);");var S=n(3842);let v=[{name:"プレイヤー",value:"click"},...["multi2_12","multi1_20","1hour4","first2_l","softmax1_29","softmax2_29","softmax3_29","softmax3_30","softmax4_12"].map(e=>({name:"AI: "+e,value:"strategy_"+e,modelName:e}))],createPlayType=(e,t)=>{if(void 0===e)return S.S.createClick();let n=S.S.create({playStrategy:"STRATEGY",modelName:e,reverseTemperature:t});if(n.isErr())throw n.error;return n.value},useSetting=()=>{let{gameListener:e}=(0,s.O)(),[t,n]=(0,o.useState)("click"),[r,i]=(0,o.useState)("click"),[a,c]=(0,o.useState)(p.H),[l,u]=(0,o.useState)(p.H),d=(0,o.useCallback)(()=>{let n=v.find(e=>e.value===t).modelName,i=v.find(e=>e.value===r).modelName,c=createPlayType(n,a),u=createPlayType(i,l);e.emitGameEvent({type:"start",playType:{me:c,opponent:u}})},[e,t,r,a,l]),m=(0,o.useCallback)(()=>{e.emitGameEvent({type:"reset"})},[e]),f=(0,o.useCallback)(()=>{p.bh<a&&c(a-1)},[a]),x=(0,o.useCallback)(()=>{a<p.f7&&c(a+1)},[a]),g=(0,o.useCallback)(()=>{p.bh<l&&u(l-1)},[l]),j=(0,o.useCallback)(()=>{l<p.f7&&u(l+1)},[l]);return{start:d,reset:m,me:{playTypePullDown:{value:t,options:v,onChange:n},reverseTemperature:{value:a,onChange:c,minusOne:f,plusOne:x}},opponent:{playTypePullDown:{value:r,options:v,onChange:i},reverseTemperature:{value:l,onChange:u,minusOne:g,plusOne:j}}}};function Button_templateObject(){let e=(0,r._)(["\n    margin: 10px;\n    width: 100px;\n    height: 50px;\n    font-size: 20px;\n    background-color: #fff;\n"]);return Button_templateObject=function(){return e},e}let Button=e=>{let{onClick:t,children:n}=e;return(0,i.jsx)(w,{onClick:t,children:n})},w=a.ZP.button(Button_templateObject());function Message_templateObject(){let e=(0,r._)(["\n    margin: 10px;\n    font-size: 24px;\n"]);return Message_templateObject=function(){return e},e}function Message_templateObject1(){let e=(0,r._)(["\n    ",";\n    font-size: 36px;\n    font-weight: bold;\n"]);return Message_templateObject1=function(){return e},e}let Message=()=>{let{system:e}=useSystem(),t=turnStringParser(e.turnPlayer);return e.notStarted?(0,i.jsx)(C,{children:"「Start」を押してください"}):e.finishStatus.isFinished?(0,i.jsxs)(C,{children:[(0,i.jsx)(k,{$player:e.finishStatus.winner,children:turnStringParser(e.finishStatus.winner)})," の勝ちです"]}):e.thinking?(0,i.jsxs)(C,{children:[(0,i.jsx)(k,{$player:e.turnPlayer,children:t}),"のAIが思考中です..."]}):(0,i.jsxs)(C,{children:[(0,i.jsx)(k,{$player:e.turnPlayer,children:t}),"のターンです"]})},C=a.ZP.div(Message_templateObject()),k=a.ZP.span(Message_templateObject1(),e=>"ME"===e.$player?"color: black":"color: red"),turnStringParser=e=>{switch(e){case"ME":return"先手";case"OPPONENT":return"後手"}};function PullDown_templateObject(){let e=(0,r._)(["\n    margin: 10px;\n    max-width: 400px;\n    height: 30px;\n    font-size: 20px;\n"]);return PullDown_templateObject=function(){return e},e}let PullDown=e=>{let{value:t,onChange:n,options:r}=e;return(0,i.jsx)(E,{value:t,onChange:e=>n(e.target.value),children:r.map(e=>(0,i.jsx)("option",{value:e.value,children:e.name},e.value))})},E=a.ZP.select(PullDown_templateObject());function Range_templateObject(){let e=(0,r._)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 18px;\n    padding: 0 12px;\n"]);return Range_templateObject=function(){return e},e}function Range_templateObject1(){let e=(0,r._)(["\n    max-width: 400px;\n    height: 36px;\n"]);return Range_templateObject1=function(){return e},e}function Range_templateObject2(){let e=(0,r._)(["\n    font-size: 18px;\n"]);return Range_templateObject2=function(){return e},e}function Range_templateObject3(){let e=(0,r._)(["\n    font-size: 20px;\n    cursor: pointer;\n"]);return Range_templateObject3=function(){return e},e}function _templateObject4(){let e=(0,r._)(["\n    font-size: 18px;\n"]);return _templateObject4=function(){return e},e}let Range=e=>{let{value:t,onChange:n,minusOne:r,plusOne:a}=e,c=t===p.f7?"最善手のみ":t.toString();return(0,i.jsxs)(T,{children:[(0,i.jsx)(Z,{children:"逆温度"}),(0,i.jsx)(D,{onClick:r,children:"<"}),(0,i.jsx)(M,{value:t,onChange:e=>n(e.target.valueAsNumber),type:"range",min:p.bh,max:p.f7,step:"1"}),(0,i.jsx)(D,{onClick:a,children:">"}),(0,i.jsxs)($,{children:[" ",c," "]})]})},T=a.ZP.div(Range_templateObject()),M=a.ZP.input(Range_templateObject1()),Z=a.ZP.label(Range_templateObject2()),D=a.ZP.div(Range_templateObject3()),$=a.ZP.div(_templateObject4());function PlayerTypeSetting_templateObject(){let e=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    padding: 18px 24px;\n    background-color: white;\n    border-radius: 12px;\n    width: calc(100% - 48px);\n    border: 1px solid #cccccc;\n"]);return PlayerTypeSetting_templateObject=function(){return e},e}function PlayerTypeSetting_templateObject1(){let e=(0,r._)(["\n    padding: 0 10px;\n    font-size: 24px;\n    width: calc(100% - 20px);\n"]);return PlayerTypeSetting_templateObject1=function(){return e},e}let PlayerTypeSetting=e=>{let{pullDown:{value:t,options:n,onChange:r},range:{value:a,onChange:c,minusOne:l,plusOne:u},label:s}=e;return(0,i.jsxs)(R,{children:[(0,i.jsx)(q,{children:s}),(0,i.jsx)(PullDown,{value:t,options:n,onChange:r}),(0,i.jsx)(Range,{value:a,onChange:c,minusOne:l,plusOne:u})]})},R=a.ZP.div(PlayerTypeSetting_templateObject()),q=a.ZP.div(PlayerTypeSetting_templateObject1());function Setting_templateObject(){let e=(0,r._)(["\n    margin: 10px;\n    width: 70%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    background-color: #f2f2f2;\n    border-radius: 10px;\n    border: 1px solid #cccccc;\n\n    @media (max-width: 768px) {\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n"]);return Setting_templateObject=function(){return e},e}function Setting_templateObject1(){let e=(0,r._)(["\n    padding: 24px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 50%;\n    border-right: 1px solid #cccccc;\n"]);return Setting_templateObject1=function(){return e},e}function Setting_templateObject2(){let e=(0,r._)(["\n    padding: 24px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 50%;\n    gap: 12px;\n"]);return Setting_templateObject2=function(){return e},e}let Setting=()=>{let{start:e,me:{playTypePullDown:t,reverseTemperature:n},opponent:{playTypePullDown:r,reverseTemperature:a}}=useSetting();return(0,i.jsxs)(N,{children:[(0,i.jsx)(B,{children:(0,i.jsx)(Message,{})}),(0,i.jsxs)(z,{children:[(0,i.jsx)(PlayerTypeSetting,{label:"先手",pullDown:t,range:n}),(0,i.jsx)(PlayerTypeSetting,{label:"後手",pullDown:r,range:a}),(0,i.jsx)(Button,{onClick:e,children:"Start"})]})]})},N=a.ZP.div(Setting_templateObject()),B=a.ZP.div(Setting_templateObject1()),z=a.ZP.div(Setting_templateObject2());function page_templateObject(){let e=(0,r._)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 12px auto;\n"]);return page_templateObject=function(){return e},e}function Home(){return(0,i.jsxs)(I,{children:[(0,i.jsx)(PlayArea,{}),(0,i.jsx)(Setting,{}),(0,i.jsx)(Explain,{})]})}let I=a.ZP.main(page_templateObject())},245:function(e,t,n){"use strict";n.d(t,{Ah:function(){return g},Bu:function(){return h},D_:function(){return s},Dx:function(){return p},E_:function(){return r},GW:function(){return w},H:function(){return S},IH:function(){return x},OS:function(){return a},Pn:function(){return u},Rg:function(){return j},Vg:function(){return c},Xs:function(){return d},ZI:function(){return l},bD:function(){return f},bh:function(){return O},f7:function(){return P},mh:function(){return m},o:function(){return y},rD:function(){return _},s3:function(){return v},xw:function(){return i},y8:function(){return b},zq:function(){return o}});let r=0,i=1,a=2,c=3,l=4,u=5,s=6,o=7,p=8,d=9,m=10,f=0,x=1,g=2,j=3,_=4,b=5,h=[p,s,o,r,d,r,r,l,r,a,i,c],y=[0,0,0,0,0,0],O=0,P=1e3,S=P,v=/([0-9]|a){12}[0-2]{6}/,w="/dobutsu_front"},3842:function(e,t,n){"use strict";n.d(t,{S:function(){return PlayType}});var r=n(245),i=n(9792);let PlayType=class PlayType{static create(e){let{playStrategy:t,modelName:n,reverseTemperature:r}=e;return"CLICK"===t?(0,i.ok)(new PlayType(t)):void 0===n||void 0===r?(0,i.cn)(Error()):(0,i.ok)(new PlayType(t,n,r))}static createClick(){let e=PlayType.create({playStrategy:"CLICK"});if(e.isErr())throw e.error;return e.value}getPlayStrategy(){return this.playStrategy}getModelName(){return void 0!==this.modelName?(0,i.ok)(this.modelName):(0,i.cn)(Error())}getReverseTemperature(){return void 0!==this.reverseTemperature?(0,i.ok)(this.reverseTemperature):(0,i.cn)(Error())}constructor(e,t,n=r.H){this.playStrategy=e,this.modelName=t,this.reverseTemperature=n}}},8771:function(e,t,n){"use strict";n.d(t,{O:function(){return useGlobal},y:function(){return i}});var r=n(2265);let i=(0,r.createContext)(void 0),useGlobal=()=>{let e=(0,r.useContext)(i);return{game:e.getGame(),gameListener:e.getGameListener(),stateListener:e.getStateListener()}}},2710:function(e,t,n){"use strict";n.d(t,{Ww:function(){return isLion},XE:function(){return isOpPiece},xb:function(){return isEmpty},y3:function(){return isMyPiece}});var r=n(245);let isMyPiece=e=>e!==r.E_&&e<r.D_,isOpPiece=e=>e>=r.D_,isEmpty=e=>e===r.E_,isLion=e=>e===r.xw||e===r.D_}},function(e){e.O(0,[995,971,472,744],function(){return e(e.s=8927)}),_N_E=e.O()}]);